<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>緊急時対応と技術的問題 - 医療機関向け API キー管理マニュアル</title>
    <link rel="stylesheet" href="../../../assets/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="header-title">🚨 緊急時対応と技術的問題</h1>
                <p class="header-subtitle">医療機関向け API キー管理マニュアル</p>
            </div>
            <div class="header-actions">
                <button onclick="window.print()" class="btn btn-outline">🖨️ 印刷</button>
                <a href="../../../index.html" class="btn btn-primary">📚 トップに戻る</a>
            </div>
        </div>
    </header>

    <div class="container main-container">
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3>📚 目次</h3>
                <button id="sidebar-toggle" class="sidebar-toggle">☰</button>
            </div>
            
            <div class="sidebar-content">
                <div class="nav-section" data-section="basics">
                    <div class="nav-section-header">
                        <h4>📖 01. 基本概念</h4>
                        <span class="nav-section-toggle">▼</span>
                    </div>
                    <ul class="nav-subsection">
                        <li><a href="../../01-basics/01-what-is-llm.html">LLMとは</a></li>
                        <li><a href="../../01-basics/02-what-is-api.html">APIとは</a></li>
                        <li><a href="../../01-basics/03-medical-considerations.html">医療機関での注意点</a></li>
                    </ul>
                </div>

                <div class="nav-section" data-section="compliance">
                    <div class="nav-section-header">
                        <h4>⚖️ 02. 法規制・コンプライアンス</h4>
                        <span class="nav-section-toggle">▼</span>
                    </div>
                    <ul class="nav-subsection">
                        <li><a href="../../02-compliance/01-japanese-regulations.html">日本の医療機関における法規制</a></li>
                        <li><a href="../../02-compliance/02-openai-privacy.html">OpenAIプライバシーポリシー</a></li>
                        <li>
                            <div class="nav-subsection-group">
                                <span class="nav-subsection-title">🤝 BAA・HIPAA ガイド</span>
                                <ul class="nav-subsection-items">
                                    <li><a href="../../02-compliance/03-baa-hipaa/01-basics.html">BAA基本概念</a></li>
                                    <li><a href="../../02-compliance/03-baa-hipaa/02-zdr.html">ZDR詳細</a></li>
                                    <li><a href="../../02-compliance/03-baa-hipaa/03-implementation.html">実装・申請手順</a></li>
                                    <li><a href="../../02-compliance/03-baa-hipaa/04-decision-guide.html">意思決定ガイド</a></li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="nav-section" data-section="security">
                    <div class="nav-section-header">
                        <h4>🛡️ 03. セキュリティ</h4>
                        <span class="nav-section-toggle">▼</span>
                    </div>
                    <ul class="nav-subsection">
                        <li><a href="../../03-security/01-security-overview.html">セキュリティ概要</a></li>
                        <li><a href="../../03-security/02-patient-data-protection.html">患者情報保護</a></li>
                        <li><a href="../../03-security/03-api-key-security.html">APIキーセキュリティ</a></li>
                        <li>
                            <div class="nav-subsection-group">
                                <span class="nav-subsection-title">🔍 セキュリティ監査</span>
                                <ul class="nav-subsection-items">
                                    <li><a href="../../03-security/04-security-audit/01-overview-daily.html">監査概要・日常チェック</a></li>
                                    <li><a href="../../03-security/04-security-audit/02-audit-items-tools.html">重点監査項目・ツール</a></li>
                                    <li><a href="../../03-security/04-security-audit/03-audit-response-improvement.html">監査対応・改善</a></li>
                                    <li><a href="../../03-security/04-security-audit/04-documentation-training.html">文書管理・担当者育成</a></li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="nav-section" data-section="implementation">
                    <div class="nav-section-header">
                        <h4>🔧 04. 実装・運用</h4>
                        <span class="nav-section-toggle">▼</span>
                    </div>
                    <ul class="nav-subsection">
                        <li><a href="../../04-implementation/01-api-key-setup.html">APIキーの取得と設定</a></li>
                        <li><a href="../../04-implementation/02-practical-usage.html">実践的な使用ガイド</a></li>
                        <li>
                            <div class="nav-subsection-group">
                                <span class="nav-subsection-title">🚨 トラブルシューティング</span>
                                <ul class="nav-subsection-items">
                                    <li><a href="../../04-implementation/03-troubleshooting/01-emergency-technical.html">緊急時対応・技術的問題</a></li>
                                    <li><a href="../../04-implementation/03-troubleshooting/02-application-cost.html">アプリケーション・コスト問題</a></li>
                                    <li><a href="../../04-implementation/03-troubleshooting/03-maintenance-escalation.html">システム保守・エスカレーション</a></li>
                                    <li><a href="../../04-implementation/03-troubleshooting/04-tools-improvement.html">ツール・継続的改善</a></li>
                                </ul>
                            </div>
                        </li>
                        <li>
                            <div class="nav-subsection-group">
                                <span class="nav-subsection-title">📊 運用管理</span>
                                <ul class="nav-subsection-items">
                                    <li><a href="../../04-implementation/04-operations-management/01-daily-operations.html">日常運用</a></li>
                                    <li><a href="../../04-implementation/04-operations-management/02-user-cost-management.html">利用者・コスト管理</a></li>
                                    <li><a href="../../04-implementation/04-operations-management/03-analysis-improvement.html">データ分析・改善</a></li>
                                    <li><a href="../../04-implementation/04-operations-management/04-documentation-emergency.html">文書管理・緊急時対応</a></li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="nav-section" data-section="reference">
                    <div class="nav-section-header">
                        <h4>📋 05. リファレンス</h4>
                        <span class="nav-section-toggle">▼</span>
                    </div>
                    <ul class="nav-subsection">
                        <li><a href="../../05-reference/01-quick-reference.html">クイックリファレンス</a></li>
                        <li><a href="../../05-reference/02-executive-summary.html">エグゼクティブサマリー</a></li>
                    </ul>
                </div>

                <div class="nav-section" data-section="training">
                    <div class="nav-section-header">
                        <h4>🎓 06. 研修・トレーニング</h4>
                        <span class="nav-section-toggle">▼</span>
                    </div>
                    <ul class="nav-subsection">
                        <li>
                            <div class="nav-subsection-group">
                                <span class="nav-subsection-title">📚 職員研修プログラム</span>
                                <ul class="nav-subsection-items">
                                    <li><a href="../../06-training/01-overview.html">研修体系概要</a></li>
                                    <li><a href="../../06-training/02-advanced.html">継続・職種別研修</a></li>
                                    <li><a href="../../06-training/03-evaluation.html">効果測定・評価</a></li>
                                    <li><a href="../../06-training/04-management.html">運営体制・教材管理</a></li>
                                </ul>
                            </div>
                        </li>
                        <li><a href="../../06-training/02-assessment-tests.html">理解度テスト問題集</a></li>
                    </ul>
                </div>

                <div class="nav-section" data-section="reporting">
                    <div class="nav-section-header">
                        <h4>📊 07. レポート・分析</h4>
                        <span class="nav-section-toggle">▼</span>
                    </div>
                    <ul class="nav-subsection">
                        <li><a href="../../07-reporting/01-monthly-reports.html">月次レポートテンプレート</a></li>
                        <li><a href="../../07-reporting/02-training-effectiveness.html">研修効果測定レポート</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <main class="content" id="content">
            <h1>緊急時対応と技術的問題</h1>

            <h2>🚨 緊急時対応</h2>

            <h3>即座に対応が必要な状況</h3>

            <h4>APIキー漏洩の疑い</h4>
            <div class="alert alert-danger">
                <h5>⚠️ 緊急度: 最高</h5>
                <p>対応時間: 即座（5分以内）</p>
            </div>
            <div class="code-block">
                <pre><code>1. OpenAI Platform へのログイン
   - platform.openai.com にアクセス
   - API Keys セクションへ移動

2. 該当キーの即座の削除
   - 「Delete」ボタンをクリック
   - 削除確認を実行

3. 利用状況の緊急確認
   - Usage タブで異常な利用がないかチェック
   - 不審な活動があれば記録・スクリーンショット

4. 管理者への即座の報告
   - IT責任者への連絡
   - 院長・事務長への報告
   - インシデント発生の記録開始</code></pre>
            </div>

            <h4>患者情報の誤送信</h4>
            <div class="alert alert-danger">
                <h5>⚠️ 緊急度: 最高</h5>
                <p>対応時間: 即座（5分以内）</p>
            </div>
            <div class="code-block">
                <pre><code>1. システムの即座停止
   - AI利用システムの利用停止
   - 関連アプリケーションの停止

2. 送信内容の詳細確認
   - 送信したデータの特定
   - 患者情報の含有確認
   - 影響範囲の評価

3. OpenAIへの緊急連絡
   - support@openai.com への報告
   - 事態の詳細説明
   - データ削除の要請

4. 法的対応の検討
   - 法務担当への連絡
   - 個人情報保護委員会への報告検討
   - 患者・家族への対応準備</code></pre>
            </div>

            <h2>🔧 技術的な問題と解決方法</h2>

            <h3>API接続・認証エラー</h3>

            <h4>401 Unauthorized エラー</h4>
            <div class="card">
                <h5>エラーメッセージ例:</h5>
                <div class="code-block">
                    <pre><code>"HTTP 401: Invalid Authentication"
"API key not found"</code></pre>
                </div>
                <h5>原因と解決方法:</h5>
                <div class="code-block">
                    <pre><code>1. APIキーの確認
   ❌ 問題: キーが間違っている
   ✅ 解決: 正しいキーの再確認・設定
   
   ❌ 問題: キーの形式が不正
   ✅ 解決: "sk-proj-"で始まる正しい形式か確認
   
   ❌ 問題: 環境変数の設定ミス
   ✅ 解決: OPENAI_API_KEY環境変数の再設定

2. キーの有効性確認
   - OpenAI Platformでキーの状態確認
   - 削除されていないか確認
   - 権限設定の確認

3. ネットワーク設定
   - プロキシ設定の確認
   - ファイアウォール設定の確認
   - DNS設定の確認</code></pre>
                </div>
            </div>

            <h4>429 Rate Limit Exceeded エラー</h4>
            <div class="card">
                <h5>エラーメッセージ例:</h5>
                <div class="code-block">
                    <pre><code>"HTTP 429: Rate limit reached"
"Too many requests"</code></pre>
                </div>
                <h5>原因と解決方法:</h5>
                <div class="code-block">
                    <pre><code>1. 利用頻度の調整
   ❌ 問題: 短時間での大量リクエスト
   ✅ 解決: リクエスト間隔の調整
   
   ❌ 問題: 複数ユーザーの同時利用
   ✅ 解決: 利用スケジュールの調整

2. 技術的対応
   - リトライロジックの実装
   - 指数バックオフの設定
   - リクエストキューイングの導入

3. プラン変更の検討
   - より高いレート制限プランへの変更
   - 複数アカウントでの負荷分散</code></pre>
                </div>
            </div>

            <h4>402 Payment Required エラー</h4>
            <div class="card">
                <h5>エラーメッセージ例:</h5>
                <div class="code-block">
                    <pre><code>"HTTP 402: You have run out of credit"
"Billing hard limit reached"</code></pre>
                </div>
                <h5>原因と解決方法:</h5>
                <div class="code-block">
                    <pre><code>1. 請求情報の確認
   - OpenAI Platform → Billing
   - 支払い方法の確認
   - 利用上限の確認

2. 支払い処理
   - クレジットカード情報の更新
   - 支払い履歴の確認
   - 未払い請求の解決

3. 利用上限の見直し
   - 月次利用上限の調整
   - 使用量監視の強化
   - 予算管理の改善</code></pre>
                </div>
            </div>

            <h3>システム・ネットワークエラー</h3>

            <h4>500 Internal Server Error</h4>
            <div class="card">
                <h5>エラーメッセージ例:</h5>
                <div class="code-block">
                    <pre><code>"HTTP 500: Internal Server Error"
"Service temporarily unavailable"</code></pre>
                </div>
                <h5>対応方法:</h5>
                <div class="code-block">
                    <pre><code>1. 即座の対応
   - 数分待ってから再試行
   - OpenAI Status Page の確認
     (https://status.openai.com/)

2. 継続的な問題の場合
   - OpenAI サポートへの連絡
   - 代替手段の検討
   - 業務継続計画の実行

3. 記録・報告
   - エラー発生時刻の記録
   - 影響範囲の確認
   - 上司への報告</code></pre>
                </div>
            </div>

            <h4>接続タイムアウト</h4>
            <div class="card">
                <h5>症状:</h5>
                <ul>
                    <li>リクエストが長時間応答しない</li>
                    <li>接続が途中で切断される</li>
                </ul>
                <h5>原因と解決方法:</h5>
                <div class="code-block">
                    <pre><code>1. ネットワーク環境の確認
   - インターネット接続の確認
   - 院内ネットワークの状態確認
   - プロキシサーバーの設定確認

2. タイムアウト設定の調整
   - クライアント側のタイムアウト延長
   - リトライ機能の実装
   - 非同期処理の検討

3. システム負荷の確認
   - サーバーリソースの確認
   - 同時実行数の制限
   - 処理の最適化</code></pre>
                </div>
            </div>

            <div class="page-navigation">
                <a href="../04-operations-management/04-documentation-emergency.html" class="page-nav-btn">← 前：文書管理と緊急時対応</a>
                <div class="page-nav-center">
                    <a href="../../../index.html">📚 目次</a>
                </div>
                <a href="02-application-cost.html" class="page-nav-btn">次：アプリケーション問題とコスト管理 →</a>
            </div>
        </main>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 医療機関向け API キー管理マニュアル. 
            <span class="footer-note">本マニュアルは医療機関での安全なAI活用を支援することを目的としています。</span></p>
        </div>
    </footer>

    <script src="../../assets/js/sidebar.js"></script>
    <script>
    </script>
</body>
</html>